<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>Usando expresiones regulares</title>
    
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/white.css">
    
    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">
    
    <!-- Printing and PDF exports -->
    <script>
     var link = document.createElement( 'link' );
     link.rel = 'stylesheet';
     link.type = 'text/css';
     link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
     document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>

  <body>
    <div class="reveal">
      <div class="slides">
	<section><h1>Extracción de texto y automatización en Twitter</h1>
	  <h2>JJ Merelo, <code>@jjmerelo</code></h2>
	</section>
	
	<section><h1>Primero, extraigamos la
	  información</h1>
	  <h1 class='fragment'>Luego, procesémosla</h1>
	</section>
	
	<section>
	  <section><h1>En el principio fue el API</h1>
	  </section>

	  <section><h1>Un API permite usar la web
			    <em>por debajo</em></h1>

	  </section>
		
	  <section><h1>Entrando paso a paso</h1>
	    <aside class='notes'>La autenticación se
	      hace en dos pasos, por usuario y por aplicación</aside>
	  </section>
	  
	</section>
	
	<section>
	  
	  <section>
	    <h1>Recuperemos información</h1>
	    <h2>Autenticación ⇒ Autorizar aplicación</h2>
	    <a
	      href='https://dev.twitter.com/rest/tools/console'><code>https://dev.twitter.com/rest/tools/console</code></a><
	  </section>
	  
	  <section>
	    <img src='img/console.png' alt='usando
		 la consola'>
	  </section>
	  
	  <section>
	    <h2>Copia/pega entre llaves</h2>
	    <img src='img/json.png' alt='copiando'>
	  </section>
	  
	  <section>
	    <h1>Pero esto no funciona (salvo en
	      casos muy concretos)</h1>
	  </section>
	  
	  <section>
	    <h1>Instalemos <a href='https://chrome.google.com/webstore/search/postman?hl=es'>Postman</a></h1>
	    <h2 class='fragment'>Extensión
	      Chrome/Chromium</h2>
	  </section>
	  
	  <section>
	    <img src='img/postman.png' alt='Usando postman'>
	  </section>
	  
	  <section>
	    <h1> ⇒ Save Response</h1>
	    <h2 class='fragment'>(icono copy/pegar)</h2>
	  </section>
	  
	  <section><h1>Pero el formato es muy
	    feo</h1></section>
	  
	  <section><h1>Filtrando con
	    <code>jq</code></h1>
	    
	    <aside class='notes'>jq es una
	      herramienta de línea de órdenes, pero
	      afortunadamente podemos usarla también
	      desde la web para extraer información de
	      la misma.</aside>
	  </section>
	  
	  
	  <section>
	    <h1>Id a <a href='https://jqplay.org/'><code>jqplay.org</code></a></h1>
	    
	    <h2 class='fragment'> ⇒ Pegad en "JSON"</h2>
	  </section>
	  
	  <section>
	    <img src='img/jqplay.png' alt='Jugando
		 en JQPlay'>
	  </section>
	  
	  <section><h1>Ya tenemos el texto en
	    filas</h1>
	    <h2 class='fragment'>Habrá que pararse
	      para ver qué se ha hecho</h2>
	  </section>
	  
	  <section>
	    <h1>Ejercicio</h1>
	    <h2>Hacer una búsqueda con Postman u
	      otro sistema similar, guardarla (o
	      <em>copypaste</em>) en JSON y extraer
	      sólo los tweets</h2>
	  </section>		

	  <section><h1>Pero no tememos a la línea de
	  órdenes</h1></section>

	  <section>
	    <h1>Podemos usar <code>tweet_rest.py</code></h1>

	    <h2 class='fragment'>Búsqueda  ⇒ Fichero
	    <code>.txt</code></h2>
	     <h2 class='fragment'> ⇒ Cambia extensión
	    <code>.csv</code> ⇒ Importa Calc
	     </h2>
	      <h2 class='fragment'>⇒ 
	      Recorta columna ... </h2>
	  </section>

	  <section><h1>... O podemos usar <a
	  href='https://raw.githubusercontent.com/JJ/t-hoarder/master/get_tweets.py'><code>get_tweets.py</code></a></h1>

	    <h2>Descarga de <a
	    href='https://git.io/g-tpy'><code>https://git.io/g-tpy</code></a></h2>
	  </section>

	  <section><h1>Nueva versión del de Mari Luz Congosto</h1>
	    <code>python tweet_rest.py mis.keys donde_esta_la.key ongs.txt --tweets</code>

	    <h2 class='fragment'> ⇒ Copia/Pega o añade
	      <code>>fichero.txt</code> al final</h2>
	  </section>

	  <section><h1>Ejercicio</h1>
	    <h2>Usar este programa para descargar un fichero de texto con
	      tweets, uno por línea</h2>
	  </section>
	</section>
	
	<section>
	  <section><h1>JSON = <em>JavaScript Object
	    Notation</em></h1></section>
	  
	  <section><h1>Una forma compacta de comunicar y
	    almacenar información</h1></section>
	  
	  <section><h1>JSON es como <a href='http://jsonviewer.stack.hu/'>un
	    árbol</a></h1></section>
	  
	  <section>
	    <h1><code>.statuses[]</code></h1>
	    <img src='img/json-tree-1.png'
		 alt='Primera fase'>
	  </section>
	  
	  <section>
	    <h1><code>.statuses[] text</code></h1>
	    <img src='img/json-tree-2.png'
		 alt='Segunda fase'>
	  </section>
	  
	  <section><h1>Ejercicio</h1>
	    <h2>Tras visualizar la estructura JSON, extraer las <em>fuentes</em>
	      (<code>source</code>) de todos los
	      tweets anteriores</h2>
	  </section>

	  <section><h1>Ejercicio</h1>
	    <h2>Mirar los otros datos de un tweet y comentar en clase
	    cuáles podían interesar medir y tabular</h2>
	  </section>

	  <section><h1>Con el texto extraído se puede trabajar de
	    múltiples formas</h1>
	    <h2 class='fragment'>✔ Buscar palabras</h2>
	    <h2 class='fragment'>✔ Nubes de palabras</h2>
	    <h2 class='fragment'>✔ Metadatos: longitud RTs...</h2>
	  </section>

	  <section>
	    <h1>Nubes en <a href='http://tagul.com'>Tagul.com</a></h1>
	    <img src='img/nube.png' alt='Nube de pokemones'>
	  </section>
	  
	  <section>
	    <h1>Ejercicio</h1>
	    <h2>Crear una nube de palabras usando el texto extraído
	      anteriormente usando TagUl u otro servicio</h2>
	  </section>

	</section>
	
	<section> <!-- Empezando con expresiones regulares -->
	  <section><h1>Procesando la información: usando
	    expresiones regulares</h1></section>
	  
	  <section><h1>Usa expresiones regulares cuando quieras</h1>
	    <h2 class='fragment'>✔ <em>sacar</em>
	      texto</h2>
	    <h2 class='fragment'>✔ <em>filtrar</em>
	      texto</h2>
	    <h2 class='fragment'>✔ <em>buscar</em> expresiones
	      complejas</h2>
	  </section>
	  
	  <section><h1>Una expresión regular expresa la
	    <em>estructura</em> de un texto</h1>
	    <h2 class='fragment'>✔ Una o más palabras</h2>
	    <h2 class='fragment'>✔ Dos Palabras En
	      Mayúsculas</h2>
	    <h2 class='fragment'>✔ Cualquier <em>#hashtag</em></h2>
	  </section>
	  
	  <section>
	    <h1>Usemos expresiones regulares online</h1>

	    <h2>RegExr: <a href='http://regexr.com/'>regexr.com</a></h2>
	  </section>

	  <section>
	    <h1>Una palabra es una expresión regular:
	    <code>/Pokemon/g</code></h1>
	    <h2 class='fragment'><code>//</code> ⇒ Delimita </h2>
	    <h2 class='fragment'><code>g</code> ⇒
	    <strong>g</strong>lobal ⇒ todas </h2>
	  </section>

	  <section>
	    <h1>Introduce en <code>Expression</code></h1>
	    <h2 class='fragment'>⇒ Mira en <code>Text</code></h2> 
	    <h2 class='fragment'>⇒ Pulsa en <code>List</code></h2> 
	  </section>

	  <section>
	    <img src='img/pokemon-regex.png' alt='pokemon regex'>
	  </section>
	    
	</section>
	  
      </div>
    </div>
    
    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
			  history: true,
			  width: '90%',

				// More info https://github.com/hakimel/reveal.js#dependencies
			  dependencies: [
			    { src: 'plugin/notes/notes.js', async: true },
			    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
			  ]
			});
		</script>
	</body>
</html>
